---
layout: post
title: 正则之匹配原理
---
注： /regexp/ 表示里面是一个正则表达式

## 优先选择最左端的匹配结果

**如果不能在字符串开始的位置找到匹配结果，从字符串的下一个位置开始尝试，如此重复。**


    用正则  /fat|cat|belly|your/
    
    来匹配字符串 'The dragging belly indicates that your cat is too fat.'
    
    匹配到的是 belly
    
虽然fat在正则的最左端但是匹配到的是belly
    
从“T”开始，尝试下一个位置之前，正则中的fat、cat、belly、your 都必须尝试。所以最先匹配到的是belly

## 标准量词是匹配优先的

**？ * + {min,max} 都是匹配优先的**

匹配优先即：总是尝试匹配尽可能多的字符

匹配优先组件首先会匹配尽可能多的字符，但为了整个表达式的匹配，它们通常需要释放一些字符。

    用正则 /\b\w+s\b/

    匹配单词 "regexes"
    
\w+ 中的+是匹配优先的，所以它能匹配整个单词，但是这样正则中的s无法匹配了，为了完成匹配，\w+就必须把最后的s留出来让正则中的s来匹配。

### 先来先服务
    用正则 /^.*([0-9]+)/

    匹配字符串 Copyright 2003.

    捕获到的是3
   

.* 首先匹配了整个字符串，为了([0-9]+)能匹配，.*交还点号和3，此时已经满足必须匹配的元素，.*不会交还更多字符。



## 忽略优先

**  +？、 *？、 ？？、 {min,max}？**

忽略优先的量词会匹配尽可能少的内容。

## 占有优先

** ++ 、 ?+、 *+、 {min,max}+** 

一旦匹配某些内容，就不会交还。





