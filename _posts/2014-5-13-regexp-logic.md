---
layout: post
title: 正则元素的三种逻辑
category: regexp
---

### 必须出现

如果某个元素必须出现，通常不会用量词*和？来限制，也不出现在多选结构中

如果某个表达式中所有元素都不是必须出现的，这个表达式匹配成功时，可以不匹配任何文本。



### 可能出现

量词

	a* //a可能出现也可能不出现

字符组或多选结构

    [abc] //a或b或c
    
    (this|that) //this或that
    
字符组处理单个字符，多选结构处理字符串

### 不能出现

排除型字符组

  此处必须出现一个字符，但不能是某些字符
  
    [^"] //此处有一个不是引号的字符

环视

如果要表示某个字符串不能出现，用环视否定不能出现的字符串。

	(?!\.\.) //不能出现两个连续的点号
    
### 综合实例

#### 身份证号码提取

我国身份证分为两代，第一代长为15位，第二代长为18位，都不能以0开头，如果是18位身份证号则最后一个字符可以是x或X

	[^0-9][1-9][0-9]{14}([0-9]{2}[0-9xX])?(?![0-9])
    
    //[1-9][0-9]{14}部分是必须出现的
    
    //([0-9]{2}[0-9xX])? 部分是可能出现的
    
    //开头的(?<![0-9])和结尾的(?![0-9]) 部分是不能出现的



